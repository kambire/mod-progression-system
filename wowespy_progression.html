<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WOWESPY — Progression Guide</title>
  <style>
    :root {
      --bg: #0b1220;
      --panel: #0f1a31;
      --panel2: #0c152b;
      --text: #e8eefc;
      --muted: #b9c3dd;
      --border: rgba(255, 255, 255, 0.10);
      --accent: #7aa2ff;
      --good: #52d2a8;
      --warn: #ffcd6a;
      --bad: #ff6b7a;
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --radius: 14px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: var(--sans);
      background: radial-gradient(1200px 900px at 15% 10%, rgba(122,162,255,0.18), transparent 55%),
                  radial-gradient(900px 600px at 80% 20%, rgba(82,210,168,0.12), transparent 45%),
                  var(--bg);
      color: var(--text);
    }

    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .wrap {
      max-width: 1120px;
      margin: 0 auto;
      padding: 22px 16px 40px;
    }

    header {
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
      padding: 18px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
      box-shadow: var(--shadow);
    }

    .title {
      display:flex;
      flex-wrap: wrap;
      align-items: baseline;
      gap: 10px;
    }

    h1 { font-size: 22px; margin: 0; letter-spacing: 0.2px; }
    .pill {
      display:inline-flex;
      align-items:center;
      gap: 8px;
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 6px 10px;
      background: rgba(255,255,255,0.03);
    }

    .controls {
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
    }

    .now {
      display:flex;
      gap: 10px;
      align-items:center;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      color: var(--text);
      font-size: 13px;
      line-height: 1.35;
    }

    .mode {
      display:flex;
      gap: 10px;
      align-items:center;
      padding: 10px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
    }

    .mode legend {
      font-size: 12px;
      color: var(--muted);
      padding: 0 6px;
    }

    fieldset { border: 1px solid transparent; margin: 0; padding: 0; }

    .radio {
      display:flex;
      gap: 8px;
      align-items:center;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.02);
      border-radius: 999px;
      padding: 4px;
    }

    .radio label {
      display:inline-flex;
      gap: 8px;
      align-items:center;
      padding: 8px 12px;
      border-radius: 999px;
      cursor: pointer;
      user-select: none;
      font-size: 13px;
      color: var(--muted);
      transition: background 120ms ease;
    }

    .radio input { display:none; }

    .radio input:checked + span {
      color: var(--text);
      background: rgba(122,162,255,0.18);
      border: 1px solid rgba(122,162,255,0.35);
    }

    .radio span {
      display:inline-flex;
      align-items:center;
      gap: 8px;
      border-radius: 999px;
      padding: 6px 10px;
      border: 1px solid transparent;
    }

    .help {
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
    }

    .grid {
      margin-top: 18px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    .section {
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,0.03);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .section-head {
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      padding: 14px 14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border-bottom: 1px solid var(--border);
    }

    .section-title {
      display:flex;
      gap: 10px;
      align-items: baseline;
      flex-wrap: wrap;
    }

    .section-title h2 {
      margin: 0;
      font-size: 16px;
      letter-spacing: 0.2px;
    }

    .section-title .desc {
      font-size: 12px;
      color: var(--muted);
    }

    .cards {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
      padding: 14px;
    }

    @media (min-width: 860px) {
      header { grid-template-columns: 1fr; }
      .cards { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }

    .card {
      border: 1px solid var(--border);
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      padding: 12px;
      min-height: 140px;
    }

    .card.current {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(122,162,255,0.18), var(--shadow);
    }

    .card-top {
      display:flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 10px;
    }

    .card h3 {
      margin: 0;
      font-size: 14px;
    }

    .kv {
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .tag {
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--border);
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(0,0,0,0.15);
      white-space: nowrap;
    }

    .list {
      margin: 10px 0 0;
      padding: 0;
      list-style: none;
      display: grid;
      gap: 8px;
    }

    .list li {
      display:flex;
      gap: 10px;
      align-items: flex-start;
      color: var(--text);
      font-size: 13px;
      line-height: 1.35;
    }

    .dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      margin-top: 4px;
      flex: 0 0 10px;
      background: var(--good);
      box-shadow: 0 0 0 3px rgba(82,210,168,0.12);
    }

    .dot.warn {
      background: var(--warn);
      box-shadow: 0 0 0 3px rgba(255,205,106,0.12);
    }

    .mono { font-family: var(--mono); font-size: 12px; color: var(--muted); }

    .footer {
      margin-top: 18px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,0.03);
      padding: 12px 14px;
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items:center;
      justify-content: space-between;
    }

    .sig {
      font-size: 12px;
      color: var(--muted);
    }

    .sig strong {
      color: var(--text);
      letter-spacing: 0.2px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">
        <h1>WOWESPY — Progression Guide (AzerothCore)</h1>
        <span class="pill">mod-progression-blizzlike</span>
        <span class="pill">MySQL 8.x</span>
        <span class="pill">3.3.5a</span>
      </div>

      <div class="controls">
        <div class="now" id="nowBracket"></div>
        <div class="help">
          If you’re a player and don’t know your bracket: ask the admin which <span class="mono">ProgressionSystem.Bracket_*</span> is active.
        </div>
      </div>
    </header>

    <div id="content" class="grid"></div>

    <div class="footer">
      <div class="sig"><strong id="sigText"></strong></div>
    </div>
  </div>

  <script>
    // =====================
    // CONFIG
    // =====================
    // Current bracket (to show above and highlight the card).
    const WOWESPY_CURRENT_BRACKET_KEY = "Bracket_80_1_2";

    // =====================
    // SIGNATURE (obfuscated)
    // =====================
    function signatureText() {
      const bytes = [
        0x77,0x6F,0x77,0x65,0x73,0x70,0x79,0x20,
        0x64,0x65,0x73,0x61,0x72,0x72,0x6F,0x6C,0x6C,0x61,0x64,0x6F,0x20,
        0x70,0x6F,0x72,0x20,
        0x6B,0x61,0x6D,0x62,0x69,0x72,0x65
      ];
      return String.fromCharCode(...bytes);
    }

    function setSignature() {
      document.getElementById("sigText").textContent = signatureText();
    }

    // =====================
    // DATA
    // =====================
    // Goal: an "idiot-proof" explanation.
    // - Each card says: what it is, what you can do, and what does NOT belong yet.
    // - In mode 0 we show only the essentials.

    const BRACKETS = [
      {
        expansion: "Vanilla",
        subtitle: "1–60 (classic progression)",
        items: [
          { key: "Bracket_0", level: "1–10", title: "Start", can: [
            "Do your race’s starter quests: they teach the right route.",
            "Train your abilities/spells every time you level up (don’t fall behind on ‘skills’).",
            "Equip whatever drops: the goal is to survive and kill fast, not to be ‘BiS’.",
            "Tidy your inventory: buy cheap bags if available, and sell junk to the vendor.",
            "Learn the basics: food/drink, selling/repairing, using the hearthstone.",
            "If the server allows it: start 1–2 professions (e.g., mining/herbalism) for gold."
          ], also: [
            "If you see a dungeon or ‘weird’ content very early, ask the admin: it may be bracket-locked.",
            "Don’t spend gold on expensive things yet: while leveling, you replace gear quickly.",
            "Enabled dungeons: — (usually there are no relevant dungeons at 1–10).",
            "Enabled raids: —."
          ] },
          { key: "Bracket_1_19", level: "10–19", title: "Early", can: [
            "Follow your zone’s quest chains and start moving to the next recommended region.",
            "Try your first dungeon (if enabled): you learn your role (tank/heal/dps) and mechanics.",
            "Put together a simple leveling set: stamina + your class stats (don’t obsess).",
            "Train weapon skills (if applicable) so you don’t miss attacks.",
            "Level professions and gather materials: it helps fund your mount later.",
            "Set up your UI/hotkeys: the sooner you do it, the easier the rest of progression."
          ], also: [
            "PvP/World PvP depends on the server: if you’re getting killed a lot, change zones and keep leveling.",
            "If a ‘set’ vendor appears too early, tell the admin (possible bracket misapplied).",
            "Enabled dungeons (typical for this range): Ragefire Chasm (Horde), The Deadmines (Alliance), Wailing Caverns.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_20_29", level: "20–29", title: "Mid", can: [
            "Run dungeons in your range for big upgrades (weapons/trinkets).",
            "Start prioritizing the right stats (e.g., int/spirit for casters; agi/str for melee).",
            "Learn routes: where to repair, where to sell, and how to travel without wasting time.",
            "If the server uses strict progression: focus on the content that ‘belongs’ to this bracket.",
            "Start saving basic consumables (food/drink/first aid).",
            "Check useful reputations if your class needs recipes or specific items."
          ], also: [
            "Don’t try to ‘skip’ brackets: if content is locked, you’ll waste time.",
            "Enabled dungeons (typical for this range): Shadowfang Keep, Blackfathom Deeps, The Stockade (Alliance).",
            "Enabled raids: —."
          ] },
          { key: "Bracket_30_39", level: "30–39", title: "Advancing", can: [
            "Run longer/harder dungeons: this is where group coordination starts to matter.",
            "Start thinking about your role: interrupts, dispels, crowd control, and positioning.",
            "Earn gold consistently: mounts and training costs are coming.",
            "Update talents/build if you feel stuck: a good build speeds things up a lot.",
            "If you play healer/tank: get an alternate set (some stamina/defense) if the server requires it.",
            "Start preparing the jump to 40+: zones, long chains, and ‘entry’ dungeons to endgame."
          ], also: [
            "If your server has attunements/keys, start asking which ones exist so you don’t get stuck later.",
            "Enabled dungeons (typical for this range): Scarlet Monastery (GY/LIB/ARM/CATH), Razorfen Kraul.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_40_49", level: "40–49", title: "On the way to endgame", can: [
            "Get your mount if applicable: it changes leveling and farming.",
            "Focus on dungeons with good loot-per-hour for your class.",
            "Get your economy in order: repairs, skills, professions, and consumables start to add up.",
            "Check long quest chains that often give strong rewards.",
            "Learn to farm materials useful for 50–60 (resistances/consumables).",
            "If the server defines early ‘pre-raid’: start saving pieces with good stats."
          ], also: [
            "Don’t get frustrated if your item doesn’t drop: the goal is to reach 50–60 in a solid spot.",
            "Enabled dungeons (typical for this range): Uldaman, Zul'Farrak.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_50_59_1", level: "50–59", title: "Pre-60 (prep)", can: [
            "Go into higher-level dungeons (for this range) and learn more ‘serious’ mechanics.",
            "Build a basic ‘pre-raid’ set: prioritize pieces that will still help at 60.",
            "Stock up on consumables: potions, food, bandages, and your class reagents.",
            "Level professions to useful thresholds: enchants/engineering/first aid matter.",
            "If your server uses keys/attunements (e.g., UBRS/Onyxia): start the chains now.",
            "Get organized with a guild/static group: at 60 progression is more coordinated."
          ], also: [
            "If you lack damage/toughness: prioritize weapons and trinkets; they’re often the biggest upgrades.",
            "Enabled dungeons (typical for this range): Sunken Temple, Blackrock Depths, LBRS/UBRS, Dire Maul, Stratholme, Scholomance.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_50_59_2", level: "50–59", title: "Pre-60 (wrap-up)", can: [
            "Finish pending chains and have everything ready to hit 60 without ‘debts’.",
            "Repeat key dungeons to fill remaining gear gaps.",
            "Learn your rotation/role in long fights: mana/aggro/threat management.",
            "Save gold for 60 expenses (skills, consumables, repairs).",
            "If the server requires it: coordinate access/attunements with your raid leader.",
            "Reach 60 with an organized inventory: potions, reagents, and space for loot."
          ], also: [
            "Don’t stay farming ‘perfect’ at 59: the real gear jump starts at 60.",
            "Enabled dungeons (typical for this range): Sunken Temple, Blackrock Depths, LBRS/UBRS, Dire Maul, Stratholme, Scholomance.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_60_1_1", level: "60", title: "Molten Core (raid entry)", can: [
            "Join your first raid: learn discipline (consumables, being on time, listening to calls).",
            "Goal: build a gear foundation for the next raid tier.",
            "Bring consumables and resistance if your server requires them.",
            "Learn your raid role: dispels, decurse, interrupts, and positioning.",
            "If the server uses DKP/loot rules: understand the system to avoid problems.",
            "Use raid drops/quests to complete your initial set."
          ], also: [
            "If you’re not ready yet, reinforce with level 60/pre-raid dungeons before insisting.",
            "Enabled dungeons (support/catch-up): Blackrock Depths, LBRS/UBRS, Dire Maul, Stratholme, Scholomance.",
            "Enabled raids: Molten Core."
          ] },
          { key: "Bracket_60_1_2", level: "60", title: "Onyxia (short raid)", can: [
            "Do Onyxia for key loot and practice simple mechanics (phases).",
            "If there’s an access/key chain: complete it (many servers use it).",
            "Learn to move with the group: fear/whelps/air phase (depending on server tuning).",
            "Use Onyxia as a quick weekly ‘check’: useful to maintain progression.",
            "Combine it with your main raid to finish specific upgrades.",
            "Save materials/consumables for the jump to BWL."
          ], also: [
            "If your raid fails due to coordination, it’s not gear: it’s discipline. Practice.",
            "Enabled dungeons (support/catch-up): Blackrock Depths, LBRS/UBRS, Dire Maul, Stratholme, Scholomance.",
            "Enabled raids: Onyxia's Lair."
          ] },
          { key: "Bracket_60_2_1", level: "60", title: "Blackwing Lair (T2)", can: [
            "A more demanding raid tier: mechanics and coordination matter a lot.",
            "Goal: major upgrades (T2-type gear) and raid experience.",
            "Review consumables and resistances by boss (depends on the server).",
            "Learn assignments: interrupts, dispels, kites, and add management.",
            "Optimization: enchants and gems (if applicable) start becoming mandatory.",
            "If you fall behind in dps/heal: review your build, consumables, and rotation."
          ], also: [
            "Don’t ‘carry’ unprepared people: BWL punishes repeated mistakes.",
            "Enabled dungeons (support/catch-up): Blackrock Depths, LBRS/UBRS, Dire Maul, Stratholme, Scholomance.",
            "Enabled raids: Blackwing Lair."
          ] },
          { key: "Bracket_60_2_2", level: "60", title: "Zul'Gurub (catch-up)", can: [
            "A 20-player raid ideal for catching up and gearing the raid.",
            "Farm reputation and rewards useful for many classes.",
            "A good place to practice coordination without as much pressure as BWL.",
            "Go with a smaller consistent group: it farms fast and efficiently.",
            "Use it to finish ‘missing’ pieces before AQ.",
            "Also use it to stock up on consumables and gold while you progress."
          ], also: [
            "ZG is usually a ‘supplement’: it doesn’t fully replace progression in larger raids.",
            "Enabled dungeons (support/catch-up): Blackrock Depths, LBRS/UBRS, Dire Maul, Stratholme, Scholomance.",
            "Enabled raids: Zul'Gurub."
          ] },
          { key: "Bracket_60_3_1", level: "60", title: "AQ20 (pre-AQ40)", can: [
            "A 20-player raid with strong loot to prepare for the final content.",
            "Learn Ahn'Qiraj mechanics (positioning, adds) in a more accessible version.",
            "Farm role-specific pieces and complete sets.",
            "If the server has an opening event: check status/progress with the admin.",
            "Use it as a stepping stone to strengthen roster and coordination.",
            "Prep: consumables, repairs, and enchants up to date."
          ], also: [
            "If AQ40 is closed, AQ20 is where your time pays off the most right now.",
            "Enabled dungeons (support/catch-up): Blackrock Depths, LBRS/UBRS, Dire Maul, Stratholme, Scholomance.",
            "Enabled raids: Ruins of Ahn'Qiraj (AQ20)."
          ] },
          { key: "Bracket_60_3_2", level: "60", title: "AQ40 (Vanilla endgame)", can: [
            "Top Vanilla content: requires a serious roster and solid execution.",
            "Goal: the best upgrades available at this stage.",
            "Bring full consumables: in endgame, going ‘unprepared’ wastes the night.",
            "Coordinate resistances/roles by boss (if the server requires it).",
            "Learn to play safely: fewer deaths = more progress.",
            "Maintain raid discipline: assignments, clean pulls, and communication."
          ], also: [
            "If the content overwhelms you, go back to MC/BWL/ZG/AQ20 to finish gear and practice.",
            "Enabled dungeons (support/catch-up): Blackrock Depths, LBRS/UBRS, Dire Maul, Stratholme, Scholomance.",
            "Enabled raids: Temple of Ahn'Qiraj (AQ40)."
          ] },
          { key: "Bracket_60_3_3", level: "60", title: "Wrap-up / transition", can: [
            "Final phase: clean up loose ends, complete sets, and prepare the jump to the next expansion.",
            "Organize bank/inventory: materials, consumables, and gold for the transition.",
            "Help the guild: align the roster and gear newcomers to keep progress moving.",
            "If there are server events/adjustments: follow the admin’s announcements.",
            "Adjust talents/roles with upcoming content in mind.",
            "Have professions and important recipes ready."
          ], also: [
            "Don’t buy ‘luxury’ items if a bracket change is coming: you’ll replace them quickly.",
            "Enabled dungeons: (depends on the server; usually the classic level 60 dungeons remain available).",
            "Enabled raids: (depends on the server; this phase is usually wrap-up/adjustments)."
          ] }
        ]
      },
      {
        expansion: "The Burning Crusade",
        subtitle: "61–70 + Arenas S1–S4",
        items: [
          { key: "Bracket_61_64", level: "61–64", title: "Outland (start)", can: [
            "Enter Outland and follow the main story of the first available zone.",
            "Replace level 60 gear gradually: quest rewards are often big upgrades.",
            "Do introductory dungeons if enabled: they help you practice pulls and roles.",
            "Start base reputations (they unlock keys/heroics if the server uses them).",
            "Adjust your talents for TBC leveling: the pace changes compared to Vanilla.",
            "Save gold: in TBC the economy and consumables start to scale."
          ], also: [
            "If you can’t enter Outland or dungeons, the admin may have the bracket locked.",
            "Enabled dungeons (typical for this range): Hellfire Ramparts, The Blood Furnace, The Slave Pens.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_65_69", level: "65–69", title: "Outland (mid)", can: [
            "Chain zones/dungeons to level fast without running out of quests.",
            "Start building ‘pre-70’: pieces with good stats so you hit 70 ready.",
            "Raise key reputations (depending on your class): they help with gear and recipes.",
            "If the server uses attunements: ask which ones exist for raids/heroics.",
            "Practice survivability and control: pulls with adds and silences are common.",
            "Prepare consumables/reagents for the push to 70."
          ], also: [
            "Don’t get stuck farming a single dungeon: rotate to avoid burnout and fill slots.",
            "Enabled dungeons (typical for this range): Mana-Tombs, Auchenai Crypts, Sethekk Halls, The Steamvault, Shadow Labyrinth.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_70_1_1", level: "70", title: "70 (normals + pre-raid)", can: [
            "Run level 70 normal dungeons to finish basic gear (weapons/hard-to-fill slots).",
            "Prioritize dungeon reputations: they often unlock rewards and heroic access.",
            "Learn your rotation/role for long fights: at 70, encounters last longer.",
            "Build a pre-raid set (even if it’s not perfect): the goal is to be able to enter raids.",
            "If the server enables PvP: start earning honor for starter pieces.",
            "Coordinate with your guild: 70 is much easier with a static group."
          ], also: [
            "If you’re not ready for raids, stay in this bracket until your gear stabilizes.",
            "Enabled dungeons (normal, typical): The Shattered Halls, Shadow Labyrinth, The Steamvault, The Arcatraz, The Mechanar, The Botanica.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_70_1_2", level: "70", title: "70 (heroics)", can: [
            "Go into heroics (if enabled): tougher mechanics and better loot.",
            "Bring consumables: in heroics you can tell when a group is ‘bare’.",
            "Learn to interrupt/dispel: many wipes happen because casts aren’t stopped.",
            "Farm badges/server currency if it exists (depends on the setup).",
            "Finish server-required reputations/keys.",
            "Have your gear ready for T4 (stamina, hit, etc. by role)."
          ], also: [
            "If you get ‘one-shot’, the issue is usually gear, consumables, or uncontrolled pulls.",
            "Enabled dungeons: Heroic (all heroic versions of Outland, if the server enables them).",
            "Enabled raids: —."
          ] },
          { key: "Bracket_70_2_1", level: "70", title: "T4 + Arena S1 (Gladiator)", can: [
            "T4 raids: roster and coordination matter (Gruul’s / Magtheridon, depending on the server).",
            "Prepare consumables/enchants: at this point they’re expected.",
            "If you play Arenas: start doing your weekly matches for points.",
            "Arenas S1: Gladiator — active season gear (blizzlike costs via ExtendedCost).",
            "Understand the system: some items may require rating + points/honor (depending on configuration).",
            "If you don’t do arenas: you can still progress in PvE; it’s not mandatory for all roles."
          ], also: [
            "Season vendors are defined by the admin via SQL templates: if items are missing, report it.",
            "If you see S2/S3/S4 gear in S1, the bracket or vendors are misconfigured.",
            "Enabled dungeons: (support) heroics and level 70 normals for gear/rep, depending on the server.",
            "Enabled raids: Gruul's Lair, Magtheridon's Lair."
          ] },
          { key: "Bracket_70_2_2", level: "70", title: "Karazhan + Arena S2 (Merciless)", can: [
            "Karazhan raid: excellent for gearing and training coordination.",
            "Build weekly routines: Kara + bracket raids + arenas (if applicable).",
            "Arenas S2: Merciless — new gear unlocks and the legacy set usually remains.",
            "Check vendors: current set + previous (legacy) set if the server configured it that way.",
            "Improve performance: hit cap/defense caps (by role), enchants, and consumables.",
            "If you’re missing gear: combine Kara with heroics to fill slots."
          ], also: [
            "Don’t attempt T5 content without a foundation: the difficulty jump is noticeable.",
            "Enabled dungeons: (support) heroics and level 70 normals for gear/rep, depending on the server.",
            "Enabled raids: Karazhan."
          ] },
          { key: "Bracket_70_2_3", level: "70", title: "Open world (dailies)", can: [
            "World content (dailies/reputation) if it applies on your server.",
            "Great for gold/consumables: it funds repairs and enchants.",
            "Build reputation with factions that offer useful recipes.",
            "If there are zones like Ogri’la/Skettis: do them when your gear allows.",
            "Complete quests that give easy upgrades.",
            "Use this time to work on professions (TBC has many strong crafts)."
          ], also: [
            "If you prefer instanced PvE, this is optional: don’t get stuck here.",
            "Enabled dungeons: — (this is world content; level 70 dungeons continue per server/bracket).",
            "Enabled raids: —."
          ] },
          { key: "Bracket_70_3_1", level: "70", title: "SSC (T5)", can: [
            "Serpentshrine Cavern raid: T5 mechanics and roster coordination.",
            "Prepare more complete consumables (potions/flasks/food) per your guild.",
            "Review resistances if the server uses them for some encounters.",
            "Learn to react: adds, interrupts, and positioning make the difference.",
            "Goal: gear to sustain T5 and enable the next tier.",
            "If it’s hard: reinforce with Kara/heroics to stabilize."
          ], also: [
            "It’s not ‘just gear’: execution in T5 matters a lot.",
            "Enabled dungeons: (support) heroics and level 70 dungeons for consumables/rep, depending on the server.",
            "Enabled raids: Serpentshrine Cavern."
          ] },
          { key: "Bracket_70_3_2", level: "70", title: "The Eye (TK) + S2", can: [
            "The Eye (Tempest Keep) raid: another T5 pillar with different mechanics.",
            "Arenas S2 often stays active depending on server progression.",
            "Keep up your consumables/enchants routine: it’s assumed here.",
            "Coordinate assignments: interrupts, dispels, and add management.",
            "Get upgrades that prepare you for Hyjal/BT.",
            "If your guild progresses slowly: consolidate roster and roles; don’t change every pull."
          ], also: [
            "If arenas are active, check that vendors are S2 (Merciless) and legacy is correct.",
            "Enabled dungeons: (support) heroics and level 70 dungeons for consumables/rep, depending on the server.",
            "Enabled raids: Tempest Keep: The Eye."
          ] },
          { key: "Bracket_70_4_1", level: "70", title: "Mount Hyjal", can: [
            "Mount Hyjal raid: long fights, waves, and resource management.",
            "Bring extra consumables: it’s normal to spend more in this kind of raid.",
            "Learn to play ‘safe’: dying in waves delays progression a lot.",
            "Coordinate defensives/cooldowns (by class) for critical moments.",
            "Goal: gear and practice for Black Temple.",
            "If your role is tank/heal: review caps and preparation; it shows."
          ], also: [
            "If your guild gets stuck here, go back to T5 to reinforce gear and execution.",
            "Enabled dungeons: (support) heroics and level 70 dungeons for consumables/rep, depending on the server.",
            "Enabled raids: Hyjal Summit."
          ] },
          { key: "Bracket_70_4_2", level: "70", title: "Black Temple", can: [
            "Black Temple raid: top TBC content (high demands).",
            "Solid execution is expected: interrupts, control, positioning, and discipline.",
            "Bring everything ready: enchants, consumables, and repairs.",
            "Learn assignments and stick to them: BT punishes improvisation.",
            "Goal: finish major upgrades and prepare for the final content.",
            "If you’re undergeared: reinforce with Hyjal/T5 so you don’t slow the roster."
          ], also: [
            "If the server enables PvP by phases, check that arena gear matches the bracket.",
            "Enabled dungeons: (support) heroics and level 70 dungeons for consumables/rep, depending on the server.",
            "Enabled raids: Black Temple."
          ] },
          { key: "Bracket_70_5", level: "70", title: "Zul’Aman + Arena S3 (Vengeful)", can: [
            "Zul’Aman raid: useful for catch-up and gearing quickly.",
            "Arenas S3: Vengeful — new gear + previous legacy if applicable.",
            "Use ZA to finish missing pieces without relying only on BT/Hyjal.",
            "Improve your arena performance: composition, communication, and practice.",
            "Organize schedules: ZA is usually ‘fast’ but requires coordination.",
            "Keep up reputations/dailies for consumables if the server uses them."
          ], also: [
            "If you see S4 too early, report it: it should only enter in the final bracket.",
            "Enabled dungeons: (support) heroics and level 70 dungeons for consumables/rep, depending on the server.",
            "Enabled raids: Zul'Aman."
          ] },
          { key: "Bracket_70_6_1", level: "70", title: "Isle of Quel’Danas", can: [
            "Final TBC zone (dailies/reputation) if applicable.",
            "Farm gold/consumables and final reputation.",
            "Complete accessible upgrades to align the roster.",
            "Great for new players: catch up without slowing raids.",
            "Use it for strong professions/crafts (server-dependent).",
            "Prepare everything for Sunwell: consumables and execution."
          ], also: [
            "Don’t only farm dailies: real progression continues in raids/arenas.",
            "Enabled dungeons: — (world content; level 70 dungeons continue per server/bracket).",
            "Enabled raids: —."
          ] },
          { key: "Bracket_70_6_2", level: "70", title: "Sunwell + Arena S4 (Brutal)", can: [
            "Sunwell Plateau raid: the most demanding TBC finale.",
            "Arenas S4: Brutal — final gear (new + legacy) depending on configuration.",
            "Bring full consumables and come prepared: the margin for error is low.",
            "Learn mechanics and roles before going: check your guild/server guide.",
            "Goal: complete progression and final expansion gear.",
            "If you’re new: use ZA/BT/Hyjal to get up to speed first."
          ], also: [
            "If the vendor doesn’t sell what’s expected for S4, the admin must apply/fix the SQL templates.",
            "Enabled dungeons: (support) heroics and level 70 dungeons for consumables/rep, depending on the server.",
            "Enabled raids: Sunwell Plateau."
          ] },
          { key: "Bracket_70_6_3", level: "70", title: "Wrap-up / transition", can: [
            "End of expansion: organize inventory and prepare the jump to WotLK.",
            "Save gold for Northrend early training/consumables.",
            "Finish important professions/recipes.",
            "Help gear the roster: the transition is easier if the guild is even.",
            "Check admin announcements about bracket and vendor changes.",
            "Have your setup ready (UI, macros, keybinds) for the new content."
          ], also: [
            "If there’s a mix of vendors/tiers between expansions, report it: it’s usually bracket configuration.",
            "Enabled dungeons: (depends on the server; usually level 70 dungeons/heroics remain available).",
            "Enabled raids: (depends on the server; this phase is usually wrap-up/adjustments)."
          ] }
        ]
      },
      {
        expansion: "Wrath of the Lich King",
        subtitle: "71–80 + Arenas S5–S8",
        items: [
          { key: "Bracket_71_74", level: "71–74", title: "Northrend (start)", can: [
            "Enter Northrend and follow the first zone’s campaign (by faction).",
            "Replace TBC gear: WotLK quest rewards upgrade your character quickly.",
            "Do introductory dungeons if enabled: practice pulls and resource management.",
            "Adjust talents/rotation: WotLK changes many class priorities.",
            "Start base reputations: they often unlock useful rewards.",
            "Don’t stall: the goal is to reach 80 at a steady pace."
          ], also: [
            "If any level 80 content shows up too early, report it to the admin: it should be bracketed.",
            "Enabled dungeons (typical for this range): Utgarde Keep, The Nexus, Azjol-Nerub.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_75_79", level: "75–79", title: "Northrend (mid)", can: [
            "Chain zones so you don’t run out of quests.",
            "Run dungeons in your range for quick upgrades.",
            "Prepare your level 80 set: hit/defense/regen (by role).",
            "Level professions: WotLK has important crafts.",
            "Earn gold for level 80 costs (consumables, enchants, repairs).",
            "Practice your role: at 80 the demands increase a lot."
          ], also: [
            "Don’t spend gold on ‘expensive’ level 79 gear if you’ll replace it when you hit 80.",
            "Enabled dungeons (typical for this range): Drak'Tharon Keep, Gundrak, Ahn'kahet, The Violet Hold, Halls of Stone, Halls of Lightning.",
            "Enabled raids: —."
          ] },
          { key: "Bracket_80_1_1", level: "80", title: "80 (normals + base)", can: [
            "Run level 80 normal dungeons to finish your baseline gear.",
            "Finish questlines that reward strong pieces (varies by class).",
            "Build a ‘minimum’ set for heroics: caps and survivability by role.",
            "If your role is tank/heal: get role-specific pieces (don’t go in with a dps set).",
            "Get enchants and basic consumables in order: they matter now.",
            "Join a guild/static group: it speeds up progression a lot."
          ], also: [
            "If groups reject you: review gear/role or start with easier runs.",
            "Enabled dungeons (normal, typical): The Culling of Stratholme, Utgarde Pinnacle, Halls of Stone/Lightning, The Oculus.",
            "Enabled raids: — (depends on progression; they often open in the next bracket)."
          ] },
          { key: "Bracket_80_1_2", level: "80", title: "Heroics + Arena S5 (Deadly)", can: [
            "Go into heroics (if enabled): better loot and learning mechanics.",
            "Farm emblems/currency if the server uses them (depends on the setup).",
            "Arenas S5: Deadly — active season gear (blizzlike ExtendedCost).",
            "Do arenas weekly if you want PvP gear: consistency > ‘tryhard’ one day.",
            "Check requirements: some items may require rating + points/honor.",
            "Have your character ready for the server’s first big raid tier (by progression)."
          ], also: [
            "If the vendor doesn’t sell S5 when it should, report it: configuration/SQL templates.",
            "If the Heroic iLvl gate is enabled: entry uses average equipped item level (no GearScore multiplier).",
            "Enabled dungeons: Heroic (all heroic versions of Northrend, if the server enables them).",
            "Enabled raids: — (the first WotLK raid package unlocks in Bracket_80_2, depending on server configuration)."
          ] },
          { key: "Bracket_80_2_1", level: "80", title: "T7 Raids (Naxx/OS/EoE)", can: [
            "Start the first WotLK raid tier (T7) if enabled by progression.",
            "Keep running heroics to fill gaps and farm emblems (depends on your setup).",
            "Prioritize raid fundamentals: assignments, threat, interrupts, positioning.",
            "Plan weekly lockouts (10/25): consistency beats sporadic clears.",
            "Keep consumables/enchants updated: early raids still punish underpreparation.",
            "Prepare for Ulduar: upgrade key slots and improve coordination."
          ], also: [
            "Enabled dungeons: Heroic (all heroic versions of Northrend, if the server enables them).",
            "Enabled raids: Naxxramas (lvl 80), The Obsidian Sanctum, The Eye of Eternity."
          ] },
          { key: "Bracket_80_2_2", level: "80", title: "Ulduar + Arena S6 (Furious)", can: [
            "Ulduar raid (if enabled in your progression): more mechanics and coordination.",
            "Arenas S6: Furious — new gear + previous legacy if applicable.",
            "Improve your preparation: full enchants and consistent consumables.",
            "Learn fights before you go in: fewer wipes = more progress.",
            "If you do PvP: build composition and communication; it’s not just gear.",
            "If you do PvE: finish upgrades with heroics/previous raids if the jump feels hard."
          ], also: [
            "If S7/S8 vendors appear here, report it: bracket/vendor timeline is off.",
            "Enabled dungeons: (support) heroics for emblems/gear, depending on the server.",
            "Enabled raids: Naxxramas (lvl 80), The Obsidian Sanctum, The Eye of Eternity, Ulduar."
          ] },
          { key: "Bracket_80_3", level: "80", title: "Trial/Onyxia + Arena S7 (Relentless)", can: [
            "Trial/Coliseum and level 80 Onyxia (if applicable on your server).",
            "Arenas S7: Relentless — new gear + previous legacy if applicable.",
            "Weekly routine: bracket raid + arenas + support content (heroics/emblems).",
            "Refine performance: macros, keybinds, consumables, and cooldown usage.",
            "If your gear is low: combine catch-up content allowed by the bracket.",
            "Preparation for ICC: organization and discipline."
          ], also: [
            "If content feels ‘too easy or too hard’, it may be server tuning, not your fault.",
            "Enabled dungeons: (support) heroics for emblems/gear, depending on the server.",
            "Enabled raids: Trial of the Crusader, Onyxia's Lair (lvl 80)."
          ] },
          { key: "Bracket_80_4_1", level: "80", title: "ICC + Arena S8 (Wrathful)", can: [
            "Icecrown Citadel raid: WotLK endgame (high coordination).",
            "Arenas S8: Wrathful — final gear (new + legacy) depending on configuration.",
            "Bring full consumables and come prepared: ICC punishes mistakes.",
            "Learn assignments: interrupts, dispels, defensives, and movement.",
            "If you do PvP: expect strong requirements on some items (rating/points).",
            "Goal: server progression wrap-up in WotLK."
          ], also: [
            "If you see mixed gear from other seasons, it’s almost certainly a vendor/SQL issue.",
            "Enabled dungeons: (support) heroics for emblems/gear, depending on the server.",
            "Enabled raids: Icecrown Citadel."
          ] },
          { key: "Bracket_80_4_2", level: "80", title: "Ruby Sanctum", can: [
            "Ruby Sanctum raid (if applicable): complementary final content.",
            "Ideal to finish specific upgrades and maintain a weekly routine.",
            "If you’re ‘behind’, use it as catch-up depending on loot.",
            "Bring consumables: it’s still a raid.",
            "Coordinate with your guild: it’s usually not long, but it requires execution.",
            "Add it alongside ICC per the server calendar."
          ], also: [
            "If RS is enabled before ICC, ask the admin: it depends on server progression.",
            "Enabled dungeons: (support) heroics for emblems/gear, depending on the server.",
            "Enabled raids: The Ruby Sanctum."
          ] },
          { key: "Bracket_Custom", level: "*", title: "Custom", can: [
            "Content defined by the server admin (it can vary a lot).",
            "Ask what’s enabled: raids, dungeons, vendors, events, and rewards.",
            "Don’t assume it follows Blizzard order: ‘Custom’ is different by definition.",
            "If there are special vendors: ask what currency/cost they use and whether there are requirements.",
            "Report inconsistencies (out-of-stage items, broken vendors) so they can fix them.",
            "If you’re new: ask the admin or your guild for a ‘recommended route’."
          ], also: [
            "Always check which `ProgressionSystem.Bracket_*` is active on the server.",
            "Enabled dungeons: (admin-defined).",
            "Enabled raids: (admin-defined)."
          ] }
        ]
      }
    ];

    // =====================
    // RENDER
    // =====================
    function el(tag, attrs = {}, children = []) {
      const node = document.createElement(tag);
      for (const [k, v] of Object.entries(attrs)) {
        if (k === "class") node.className = v;
        else if (k === "text") node.textContent = v;
        else node.setAttribute(k, v);
      }
      for (const ch of children) node.appendChild(ch);
      return node;
    }

    function render() {
      const root = document.getElementById("content");
      root.innerHTML = "";

      for (const section of BRACKETS) {
        const head = el("div", { class: "section-head" }, [
          el("div", { class: "section-title" }, [
            el("h2", { text: section.expansion }),
            el("span", { class: "desc", text: section.subtitle })
          ]),
          el("span", { class: "pill", text: "Extended guide" })
        ]);

        const cards = el("div", { class: "cards" });

        for (const b of section.items) {
          const canList = el("ul", { class: "list" });

          for (const line of b.can) {
            canList.appendChild(el("li", {}, [
              el("span", { class: "dot" }),
              el("span", { text: line })
            ]));
          }

          if (b.also && b.also.length) {
            for (const line of b.also) {
              canList.appendChild(el("li", {}, [
                el("span", { class: "dot warn" }),
                el("span", { text: line })
              ]));
            }
          }

          const cardClass = (b.key === WOWESPY_CURRENT_BRACKET_KEY) ? "card current" : "card";
          const card = el("div", { class: cardClass }, [
            el("div", { class: "card-top" }, [
              el("div", {}, [
                el("h3", { text: `${b.key} — ${b.title}` }),
                el("div", { class: "kv" }, [
                  el("span", { class: "tag", text: `Level: ${b.level}` }),
                  el("span", { class: "tag", text: "User guide" }),
                  ...(b.key === WOWESPY_CURRENT_BRACKET_KEY ? [el("span", { class: "tag", text: "CURRENT BRACKET" })] : [])
                ])
              ])
            ]),
            canList
          ]);

          cards.appendChild(card);
        }

        const sectionNode = el("div", { class: "section" }, [head, cards]);
        root.appendChild(sectionNode);
      }
    }

    async function main() {
      setSignature();

      const now = document.getElementById("nowBracket");
      // User-requested text (keep it simple and visible at the top)
      now.innerHTML = `We are currently in Bracket 80.1.2. <span class="mono">(${WOWESPY_CURRENT_BRACKET_KEY})</span>`;

      render();
    }

    main();
  </script>
</body>
</html>
